extends base.pug 
//- 继承自某个页面

block content
	form(action="/register", method="post")
		div 用户名:
		input(type="text", name="name")
		span.tip
		//-span加载的细节
		div 密码：
		input(type="password", name="password")
		div 邮箱：
		input(type="email", name="email")
		button 注册
	
	script.
		let nameInput = document.querySelector('input[name="name"]')
		let tipSpan = document.querySelector('.tip')
		nameInput.oninput =function(e){//实时验证用户名是否可用
			//- jquery 发Ajax
			$.get('/username-conflict-check?name='+this.value)
						.then(result=>{
							console.log(result)
							tipSpan.textContent = result.msg})
		}